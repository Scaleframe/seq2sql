Loading from nl2sql Yale dataset
Loading data from New_Data/Initial/train/art_1.json
Loading data from New_Data/Initial/train/boat_1.json
Loading data from New_Data/Initial/tables/art_1_table.json
Loading data from New_Data/Initial/tables/boat_1_table.json
clean_table_data
[u'select', u'title', u',', u'year', u'from', u'sculptures']
[u'select', u'*', u'from', u'paintings', u'order', u'by', u'year', u'limit', u'1']
[u'select', u'title', u'from', u'sculptures']
[u'select', u'title', u'from', u'paintings']
[u'select', u'title', u'from', u'sculptures']
[u'select', u'*', u'from', u'paintings', u'where', u'paintingid', u'=', u'80']
[u'select', u'lname', u',', u'fname', u'from', u'artists']
[u'select', u'title', u'from', u'sculptures', u'where', u'location', u'!', u'=', u'``', u'gallery', u'226', u"''"]
[u'select', u'*', u'from', u'artists', u'as', u't1', u'join', u'sculptures', u'as', u't2', u'on', u't1.artistid', u'=', u't2.sculptorid']
[u'select', u'*', u'from', u'artists', u'as', u't1', u'join', u'sculptures', u'as', u't2', u'on', u't1.artistid', u'=', u't2.sculptorid']
[u'select', u'*', u'from', u'artists']
[u'select', u'*', u'from', u'artists']
[u'select', u'*', u'from', u'artists']
[u'select', u'count', u'(', u'*', u')', u'from', u'paintings']
[u'select', u'count', u'(', u'*', u')', u',', u't2.painterid', u'from', u'artists', u'as', u't1', u'join', u'paintings', u'as', u't2', u'on', u't1.artistid', u'=', u't2.painterid', u'group', u'by', u't2.painterid']
[u'select', u'*', u'from', u'artists', u'where', u'fname', u'=', u'``', u'mary', u"''"]
[u'select', u'*', u'from', u'artists', u'where', u'birthyear', u'<', u'1850']
[u'select', u'*', u'from', u'artists', u'where', u'fname', u'=', u'``', u'pablo', u"''"]
[u'select', u'*', u'from', u'artists', u'as', u't1', u'join', u'paintings', u'as', u't2', u'on', u't1.artistid', u'=', u't2.painterid']
[u'select', u'*', u'from', u'artists', u'as', u't1', u'join', u'paintings', u'as', u't2', u'on', u't1.artistid', u'=', u't2.painterid', u'where', u't2.medium', u'=', u'``', u'oil', u"''"]
[u'select', u't1.artistid', u'from', u'artists', u'as', u't1', u'join', u'paintings', u'as', u't2', u'on', u't1.artistid', u'=', u't2.painterid', u'where', u't2.year', u'=', u'1884']
[u'select', u't1.artistid', u'from', u'artists', u'as', u't1', u'join', u'paintings', u'as', u't2', u'on', u't1.artistid', u'=', u't2.painterid', u'where', u't2.medium', u'=', u'``', u'oil', u"''"]
[u'select', u'distinct', u'medium', u'from', u'paintings']
[u'select', u'distinct', u'medium', u'from', u'paintings']
[u'select', u'count', u'(', u'*', u')', u'from', u'paintings', u'where', u'year', u'<', u'1900']
[u'select', u'*', u'from', u'paintings', u'where', u'year', u'>', u'1910']
[u'select', u'*', u'from', u'paintings', u'where', u'medium', u'=', u'``', u'oil', u"''"]
[u'select', u'height_mm', u'from', u'paintings']
[u'select', u'max', u'(', u'year', u')', u'from', u'paintings', u'where', u'location', u'=', u'``', u'gallery', u'240', u"''"]
[u'select', u'year', u'from', u'paintings', u'order', u'by', u'year', u'limit', u'1']
[u'select', u'*', u'from', u'artists', u'as', u't1', u'join', u'sculptures', u'as', u't2', u'on', u't1.artistid', u'=', u't2.sculptorid']
[u'select', u'distinct', u'title', u'from', u'paintings']
[u'select', u'distinct', u'title', u'from', u'paintings']
[u'select', u'title', u'from', u'paintings', u'union', u'select', u'title', u'from', u'sculptures']
[u'select', u'*', u'from', u'artists', u'where', u'artistid', u'=', u'222']
[u'select', u'count', u'(', u'*', u')', u',', u't1.artistid', u'from', u'artists', u'as', u't1', u'join', u'paintings', u'as', u't2', u'on', u't1.artistid', u'=', u't2.painterid', u'group', u'by', u't1.artistid']
[u'select', u't2.sculptorid', u',', u'count', u'(', u'*', u')', u'from', u'artists', u'as', u't1', u'join', u'sculptures', u'as', u't2', u'on', u't1.artistid', u'=', u't2.sculptorid', u'group', u'by', u't2.sculptorid']
[u'select', u'title', u'from', u'paintings']
[u'select', u'*', u'from', u'paintings', u'where', u'year', u'<', u'1885', u'or', u'year', u'>', u'1930']
[u'select', u'paintingid', u'from', u'paintings', u'where', u'height_mm', u'>', u'500']
[u'select', u'*', u'from', u'paintings', u'where', u'mediumon', u'=', u'``', u'panel', u"''"]
[u'select', u'*', u'from', u'paintings', u'where', u'year', u'<', u'1885']
[u'select', u'*', u'from', u'paintings', u'where', u'medium', u'=', u'``', u'oil', u"''"]
[u'select', u'*', u'from', u'paintings', u'where', u'year', u'<', u'1900']
[u'select', u'*', u'from', u'paintings', u'group', u'by', u'year', u'order', u'by', u'year']
[u'select', u'avg', u'(', u'height_mm', u')', u',', u'avg', u'(', u'width_mm', u')', u'from', u'paintings']
[u'select', u'*', u'from', u'artists', u'as', u't1', u'join', u'paintings', u'as', u't2', u'on', u't1.artistid', u'=', u't2.painterid', u'group', u'by', u't2.painterid', u'having', u'count', u'(', u'*', u')', u'>', u'=', u'2']
[u'select', u'*', u'from', u'artists', u'as', u't1', u'join', u'paintings', u'as', u't2', u'on', u't1.artistid', u'=', u't2.painterid', u'group', u'by', u't2.painterid', u'having', u'count', u'(', u'*', u')', u'<', u'4']
[u'select', u't1.artistid', u'from', u'artists', u'as', u't1', u'join', u'sculptures', u'as', u't2', u'on', u't1.artistid', u'=', u't2.sculptorid']
[u'select', u'paintingid', u'from', u'paintings', u'where', u'location', u'=', u"'gallery", u'240', u"'"]
[u'select', u'year', u'from', u'paintings', u'where', u'location', u'=', u"'gallery", u'240', u"'"]
Loading data from New_Data/Initial/dev/pets_1.json
Loading data from New_Data/Initial/tables/pets_1_table.json
clean_table_data
[u'select', u'*', u'from', u'pets']
[u'select', u'*', u'from', u'pets', u'order', u'by', u'pet_age']
[u'select', u'distinct', u'pettype', u'from', u'pets']
[u'select', u'*', u'from', u'student', u'as', u't1', u'join', u'has_pet', u'as', u't2', u'on', u't1.stuid', u'=', u't2.stuid', u'where', u't1.age', u'>', u'20']
[u'select', u'*', u'from', u'student', u'where', u'sex', u'=', u"'f", u"'"]
[u'select', u'distinct', u'pettype', u'from', u'pets']
[u'select', u'distinct', u't1.fname', u'from', u'student', u'as', u't1']
[u'select', u'*', u'from', u'student', u'as', u't1', u'join', u'has_pet', u'as', u't2', u'on', u't1.stuid', u'=', u't2.stuid', u'join', u'pets', u'as', u't3', u'on', u't3.petid', u'=', u't2.petid', u'where', u't3.pettype', u'=', u"'dog", u"'"]
[u'select', u'*', u'from', u'student', u'where', u'stuid', u'not', u'in']
[u'select', u'stuid', u'from', u'student']
[u'select', u'*', u'from', u'student', u'as', u't1', u'join', u'has_pet', u'as', u't2', u'on', u't1.stuid', u'=', u't2.stuid', u'join', u'pets', u'as', u't3', u'on', u't3.petid', u'=', u't2.petid', u'where', u't3.pettype', u'=', u"'dog", u"'"]
[u'select', u'*', u'from', u'pets', u'order', u'by', u'pet_age', u'limit', u'1']
[u'select', u'petid', u'from', u'pets']
[u'select', u'distinct', u'pettype', u'from', u'pets']
[u'select', u'*', u'from', u'pets']
[u'select', u'*', u'from', u'student', u'as', u't1', u'join', u'has_pet', u'as', u't2', u'on', u't1.stuid', u'=', u't2.stuid']
[u'select', u'*', u'from', u'student', u'as', u't1', u'join', u'has_pet', u'as', u't2', u'on', u't1.stuid', u'=', u't2.stuid']
[u'select', u'*', u'from', u'student', u'as', u't1', u'join', u'has_pet', u'as', u't2', u'on', u't1.stuid', u'=', u't2.stuid']
[u'select', u't1.fname', u',', u't1.sex', u'from', u'student', u'as', u't1']
[u'select', u'petid', u'from', u'pets', u'where', u'pet_age', u'=', u'3', u'and', u'pettype', u'=', u"'cat", u"'"]
[u'select', u'*', u'from', u'student', u'where', u'stuid', u'not', u'in']
Loading word embedding from glove/glove.42B.300d.txt
Using fixed embedding
Not using column attention on aggregator predicting
Not using column attention on selection predicting
Seq2SQL where prediction
epoch_acc_new
index_column_selected [5]
{'agg': 1, 'sel': [5], 'conds': [[0, 0, u'pets pets pets pets pets pets pets pets pets pets pets pets pets pets pets pets pets pets pets pets pets pets pets pets pets pets pets pets pets pets pets pets pets pets pets pets pets pets pets pets pets pets pets pets pets pets pets pets pets pets pets pets pets pets pets pets pets pets pets pets pets pets pets pets pets pets pets pets pets pets pets pets pets pets pets pets pets pets pets pets pets pets pets pets pets pets pets pets pets pets pets pets pets pets pets pets pets pets']]}
index_column_selected [5]
{'agg': 1, 'sel': [5], 'conds': [[0, 0, 'EQLEQLEQLEQLEQLEQLEQLEQLEQLEQLEQLEQLEQLEQLEQLEQLEQLEQLEQLEQLEQLEQLEQLEQLEQLEQLEQLEQLEQLEQLEQLEQLEQLEQLEQLEQLEQLEQLEQLEQLEQLEQLEQLEQLEQLEQLEQLEQLEQLEQLEQLEQLEQLEQLEQLEQLEQLEQLEQLEQLEQLEQLEQLEQLEQLEQLEQLEQLEQLEQLEQLEQLEQLEQLEQLEQLEQLEQLEQLEQLEQLEQLEQLEQLEQLEQLEQLEQLEQLEQLEQLEQLEQLEQLEQLEQLEQLEQL']]}
index_column_selected [5]
{'agg': 1, 'sel': [5], 'conds': [[0, 0, u'pets pets pets pets pets pets pets pets pets pets pets pets pets pets pets pets pets pets pets pets pets pets pets pets pets pets pets pets pets pets pets pets pets pets pets pets pets pets pets pets pets pets pets pets pets pets pets pets pets pets pets pets pets pets pets pets pets pets pets pets pets pets pets pets pets pets pets pets pets pets pets pets pets pets pets pets pets pets pets pets pets pets pets pets pets pets pets pets pets pets pets pets pets pets pets pets pets pets']]}
index_column_selected [5]
{'agg': 1, 'sel': [5], 'conds': [[0, 0, u'students students students students students students students students students students students students students students students students students students students students students students students students students students students students students students students students students students students students students students students students students students students students students students students students students students students students students students students students students students students students students students students students students students students students students students students students students students students students students students students students students students students students students students students students students students students students students students students students students students']]}
index_column_selected [5]
{'agg': 1, 'sel': [5], 'conds': [[0, 0, u'students students students students students students students students students students students students students students students students students students students students students students students students students students students students students students students students students students students students students students students students students students students students students students students students students students students students students students students students students students students students students students students students students students students students students students students students students students students students students students students students students students students students students students students students students students students students students students students students students students']]}
index_column_selected [5]
{'agg': 1, 'sel': [5], 'conds': [[0, 0, u'pet pet pet pet pet pet pet pet pet pet pet pet pet pet pet pet pet pet pet pet pet pet pet pet pet pet pet pet pet pet pet pet pet pet pet pet pet pet pet pet pet pet pet pet pet pet pet pet pet pet pet pet pet pet pet pet pet pet pet pet pet pet pet pet pet pet pet pet pet pet pet pet pet pet pet pet pet pet pet pet pet pet pet pet pet pet pet pet pet pet pet pet pet pet pet pet pet pet']]}
index_column_selected [5]
{'agg': 1, 'sel': [5], 'conds': [[0, 0, u'student student student student student student student student student student student student student student student student student student student student student student student student student student student student student student student student student student student student student student student student student student student student student student student student student student student student student student student student student student student student student student student student student student student student student student student student student student student student student student student student student student student student student student student student student student student student student student student student student student']]}
index_column_selected [5]
{'agg': 1, 'sel': [5], 'conds': [[0, 0, u'dog dog dog dog dog dog dog dog dog dog dog dog dog dog dog dog dog dog dog dog dog dog dog dog dog dog dog dog dog dog dog dog dog dog dog dog dog dog dog dog dog dog dog dog dog dog dog dog dog dog dog dog dog dog dog dog dog dog dog dog dog dog dog dog dog dog dog dog dog dog dog dog dog dog dog dog dog dog dog dog dog dog dog dog dog dog dog dog dog dog dog dog dog dog dog dog dog dog']]}
index_column_selected [5]
{'agg': 1, 'sel': [5], 'conds': [[0, 0, u'students students students students students students students students students students students students students students students students students students students students students students students students students students students students students students students students students students students students students students students students students students students students students students students students students students students students students students students students students students students students students students students students students students students students students students students students students students students students students students students students students students students students students students students students students students students students students students students students students students']]}
index_column_selected [5]
{'agg': 1, 'sel': [5], 'conds': [[0, 0, u'id id id id id id id id id id id id id id id id id id id id id id id id id id id id id id id id id id id id id id id id id id id id id id id id id id id id id id id id id id id id id id id id id id id id id id id id id id id id id id id id id id id id id id id id id id id id id id id id id id']]}
index_column_selected [5]
{'agg': 1, 'sel': [5], 'conds': [[0, 0, u'dogs dogs dogs dogs dogs dogs dogs dogs dogs dogs dogs dogs dogs dogs dogs dogs dogs dogs dogs dogs dogs dogs dogs dogs dogs dogs dogs dogs dogs dogs dogs dogs dogs dogs dogs dogs dogs dogs dogs dogs dogs dogs dogs dogs dogs dogs dogs dogs dogs dogs dogs dogs dogs dogs dogs dogs dogs dogs dogs dogs dogs dogs dogs dogs dogs dogs dogs dogs dogs dogs dogs dogs dogs dogs dogs dogs dogs dogs dogs dogs dogs dogs dogs dogs dogs dogs dogs dogs dogs dogs dogs dogs dogs dogs dogs dogs dogs dogs']]}
index_column_selected [5]
{'agg': 1, 'sel': [5], 'conds': [[0, 0, u'pet pet pet pet pet pet pet pet pet pet pet pet pet pet pet pet pet pet pet pet pet pet pet pet pet pet pet pet pet pet pet pet pet pet pet pet pet pet pet pet pet pet pet pet pet pet pet pet pet pet pet pet pet pet pet pet pet pet pet pet pet pet pet pet pet pet pet pet pet pet pet pet pet pet pet pet pet pet pet pet pet pet pet pet pet pet pet pet pet pet pet pet pet pet pet pet pet pet']]}
index_column_selected [5]
{'agg': 1, 'sel': [5], 'conds': [[0, 0, u'pet pet pet pet pet pet pet pet pet pet pet pet pet pet pet pet pet pet pet pet pet pet pet pet pet pet pet pet pet pet pet pet pet pet pet pet pet pet pet pet pet pet pet pet pet pet pet pet pet pet pet pet pet pet pet pet pet pet pet pet pet pet pet pet pet pet pet pet pet pet pet pet pet pet pet pet pet pet pet pet pet pet pet pet pet pet pet pet pet pet pet pet pet pet pet pet pet pet']]}
index_column_selected [5]
{'agg': 1, 'sel': [5], 'conds': [[0, 0, u'pet pet pet pet pet pet pet pet pet pet pet pet pet pet pet pet pet pet pet pet pet pet pet pet pet pet pet pet pet pet pet pet pet pet pet pet pet pet pet pet pet pet pet pet pet pet pet pet pet pet pet pet pet pet pet pet pet pet pet pet pet pet pet pet pet pet pet pet pet pet pet pet pet pet pet pet pet pet pet pet pet pet pet pet pet pet pet pet pet pet pet pet pet pet pet pet pet pet']]}
index_column_selected [5]
{'agg': 1, 'sel': [5], 'conds': [[0, 0, u'pets pets pets pets pets pets pets pets pets pets pets pets pets pets pets pets pets pets pets pets pets pets pets pets pets pets pets pets pets pets pets pets pets pets pets pets pets pets pets pets pets pets pets pets pets pets pets pets pets pets pets pets pets pets pets pets pets pets pets pets pets pets pets pets pets pets pets pets pets pets pets pets pets pets pets pets pets pets pets pets pets pets pets pets pets pets pets pets pets pets pets pets pets pets pets pets pets pets']]}
index_column_selected [5]
{'agg': 1, 'sel': [5], 'conds': [[0, 0, u'pets pets pets pets pets pets pets pets pets pets pets pets pets pets pets pets pets pets pets pets pets pets pets pets pets pets pets pets pets pets pets pets pets pets pets pets pets pets pets pets pets pets pets pets pets pets pets pets pets pets pets pets pets pets pets pets pets pets pets pets pets pets pets pets pets pets pets pets pets pets pets pets pets pets pets pets pets pets pets pets pets pets pets pets pets pets pets pets pets pets pets pets pets pets pets pets pets pets']]}
index_column_selected [5]
{'agg': 1, 'sel': [5], 'conds': [[0, 0, u'pets pets pets pets pets pets pets pets pets pets pets pets pets pets pets pets pets pets pets pets pets pets pets pets pets pets pets pets pets pets pets pets pets pets pets pets pets pets pets pets pets pets pets pets pets pets pets pets pets pets pets pets pets pets pets pets pets pets pets pets pets pets pets pets pets pets pets pets pets pets pets pets pets pets pets pets pets pets pets pets pets pets pets pets pets pets pets pets pets pets pets pets pets pets pets pets pets pets']]}
index_column_selected [5]
{'agg': 1, 'sel': [5], 'conds': [[0, 0, u'pets pets pets pets pets pets pets pets pets pets pets pets pets pets pets pets pets pets pets pets pets pets pets pets pets pets pets pets pets pets pets pets pets pets pets pets pets pets pets pets pets pets pets pets pets pets pets pets pets pets pets pets pets pets pets pets pets pets pets pets pets pets pets pets pets pets pets pets pets pets pets pets pets pets pets pets pets pets pets pets pets pets pets pets pets pets pets pets pets pets pets pets pets pets pets pets pets pets']]}
index_column_selected [5]
{'agg': 1, 'sel': [5], 'conds': [[0, 0, u'student student student student student student student student student student student student student student student student student student student student student student student student student student student student student student student student student student student student student student student student student student student student student student student student student student student student student student student student student student student student student student student student student student student student student student student student student student student student student student student student student student student student student student student student student student student student student student student student student student']]}
index_column_selected [5]
{'agg': 1, 'sel': [5], 'conds': [[0, 0, u'cat cat cat cat cat cat cat cat cat cat cat cat cat cat cat cat cat cat cat cat cat cat cat cat cat cat cat cat cat cat cat cat cat cat cat cat cat cat cat cat cat cat cat cat cat cat cat cat cat cat cat cat cat cat cat cat cat cat cat cat cat cat cat cat cat cat cat cat cat cat cat cat cat cat cat cat cat cat cat cat cat cat cat cat cat cat cat cat cat cat cat cat cat cat cat cat cat cat']]}
index_column_selected [5]
{'agg': 1, 'sel': [5], 'conds': [[0, 0, u'students students students students students students students students students students students students students students students students students students students students students students students students students students students students students students students students students students students students students students students students students students students students students students students students students students students students students students students students students students students students students students students students students students students students students students students students students students students students students students students students students students students students students students students students students students students students students students students students students students']]}
Init dev acc_qm: 0.0
  breakdown on (agg, sel, where): [ 0.  0.  0.]
Epoch 1 @ 2018-04-11 21:11:10.243642
training
